(this["webpackJsonpmr-mrs-app"]=this["webpackJsonpmr-mrs-app"]||[]).push([[13],{144:function(e,t,n){},218:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var r=n(61),a=n(62),c=n(67),o=n(66),u=n(65),s=n(1),i=n(0),l=(n(23),n(54)),p=n.n(l),b=n(55),f=n(21),g=n(123),d=n(58),h=(n(144),n(64));n(63);function j(e){var t=Object(i.useState)(""),n=Object(f.a)(t,2),r=n[0],a=n[1],c=Object(i.useState)(""),o=Object(f.a)(c,2),u=o[0],l=o[1];function j(){return(j=Object(b.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,Object(h.f)(r,u);case 3:a=t.sent,console.log(a),a?e.onLogin(!0):e.onLogin(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.jsx)("div",{className:"Login",children:Object(s.jsxs)(g.a,{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(s.jsxs)(g.a.Group,{size:"lg",controlId:"username",children:[Object(s.jsx)(g.a.Label,{children:"Username"}),Object(s.jsx)(g.a.Control,{autoFocus:!0,type:"text",value:r,onChange:function(e){return a(e.target.value)}})]}),Object(s.jsxs)(g.a.Group,{size:"lg",controlId:"password",children:[Object(s.jsx)(g.a.Label,{children:"Password"}),Object(s.jsx)(g.a.Control,{type:"password",value:u,onChange:function(e){return l(e.target.value)}})]}),Object(s.jsx)(d.a,{block:!0,size:"lg",type:"submit",disabled:!(r.length>0&&u.length>0),children:"Login"})]})})}function O(e){var t=Object(i.useState)(""),n=Object(f.a)(t,2),r=n[0],a=n[1],c=Object(i.useState)(""),o=Object(f.a)(c,2),u=o[0],l=o[1],j=Object(i.useState)(""),O=Object(f.a)(j,2),v=O[0],m=O[1];function x(){return(x=Object(b.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,Object(h.j)(v,r,u);case 3:t.sent.status=e.onSignup(!0);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.jsx)("div",{className:"Login",children:Object(s.jsxs)(g.a,{onSubmit:function(e){return x.apply(this,arguments)},children:[Object(s.jsxs)(g.a.Group,{size:"lg",controlId:"password",children:[Object(s.jsx)(g.a.Label,{children:"Name"}),Object(s.jsx)(g.a.Control,{type:"text",value:v,onChange:function(e){return m(e.target.value)}})]}),Object(s.jsxs)(g.a.Group,{size:"lg",controlId:"username",children:[Object(s.jsx)(g.a.Label,{children:"Username"}),Object(s.jsx)(g.a.Control,{autoFocus:!0,type:"text",value:r,onChange:function(e){return a(e.target.value)}})]}),Object(s.jsxs)(g.a.Group,{size:"lg",controlId:"password",children:[Object(s.jsx)(g.a.Label,{children:"Password"}),Object(s.jsx)(g.a.Control,{type:"password",value:u,onChange:function(e){return l(e.target.value)}})]}),Object(s.jsx)(d.a,{block:!0,size:"lg",type:"submit",disabled:!(r.length>0&&u.length>0),children:"Sign Up"})]})})}n(218);var v=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={isLoggedIn:!1},a.handleLogin=a.handleLogin.bind(Object(c.a)(a)),a.handleSignup=a.handleSignup.bind(Object(c.a)(a)),a}return Object(a.a)(n,[{key:"handleLogin",value:function(e){e?this.setState({isLoggedIn:!0}):(this.setState({isLoggedIn:!1}),alert("error logging in"))}},{key:"handleSignup",value:function(e){e?alert("user created successfully"):alert("error creating user")}},{key:"render",value:function(){var e=this;return Object(s.jsx)(i.Fragment,{children:Object(s.jsx)("div",{className:"auth-form",children:this.state.isLoggedIn?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(O,{onSignup:function(t){return e.handleSignup(t)}})}):Object(s.jsx)(j,{onLogin:function(t){return e.handleLogin(t)}})})})}}]),n}(i.Component);t.default=v},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){return"dev"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEV_FRONTEND:"http://localhost:3000/",REACT_APP_DEV_SERVER:"http://localhost:5000/"}).REACT_APP_ENV?"http://localhost:3000/":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEV_FRONTEND:"http://localhost:3000/",REACT_APP_DEV_SERVER:"http://localhost:5000/"}).REACT_APP_PROD_FRONTEND},a=function(){return window.location.origin}},64:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return j})),n.d(t,"k",(function(){return O})),n.d(t,"l",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"i",(function(){return m})),n.d(t,"b",(function(){return x}));var r=n(54),a=n.n(r),c=n(55),o=n(63),u=n.n(o),s=n(56),i=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,u,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={username:t,password:n},c=Object(s.b)(),o=c+"/user/login",e.next=6,fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 6:return u=e.sent,e.next=9,u.json();case 9:if(!(i=e.sent).auth){e.next=15;break}return localStorage.setItem("token",i.token),e.abrupt("return",!0);case 15:return localStorage.getItem("token")&&localStorage.removeItem("token"),console.log(i.msg),e.abrupt("return",!1);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),console.log("error: ",e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,o,u,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={name:t,username:n,password:r},o=Object(s.b)(),u=o+"/user/signup",e.next=5,fetch(u,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify({data:c})});case 5:return i=e.sent,e.next=8,i.json();case 8:if(l=e.sent,console.log(l),!l){e.next=14;break}return e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){var o,u,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={newBlogEntry:t,title:n,tags:r,seoTags:c},u=Object(s.b)(),i=u+"/user/blogmanage/savenewentry",e.next=6,fetch(i,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify(o)});case 6:if(l=e.sent,console.log("response: ",l),!l.signup){e.next=12;break}return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log("error: ",e.t0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c,o){var u,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u={entryToUpdate:t,title:n,id:r,tags:c,seoTags:o},i=Object(s.b)(),l=i+"/user/blogmanage/updateentry",e.next=6,fetch(l,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify({data:u})});case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(s.b)(),r=n+"/user/blogmanage/getnewentry?blogId="+t,e.next=5,fetch(r,{method:"GET",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}});case 5:return c=e.sent,e.next=8,c.json();case 8:return o=e.sent,e.abrupt("return",o);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"content-type":"multipart/form-data","x-access-token":localStorage.getItem("token")}},e.prev=1,r=Object(s.b)(),c=r+"/user/blogmanage/uploadimage",e.abrupt("return",u.a.post(c,t,n).then((function(e){return e.data.imageUrl})));case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json","x-access-token":localStorage.getItem("token")}},e.prev=1,n=Object(s.b)(),r=n+"/user/blogmanage/getAllPosts",e.next=6,u.a.get(r,t);case 6:return c=e.sent,e.abrupt("return",c.data);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{error:"error",errorText:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(s.b)(),r=n+"/user/blogmanage/deleteEntries",e.next=5,fetch(r,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify(t)});case 5:return c=e.sent,e.abrupt("return",S(c));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(s.b)(),r=n+"/user/blogmanage/publishEntries",e.next=5,fetch(r,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify(t)});case 5:return c=e.sent,e.abrupt("return",S(c));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(s.b)(),r=n+"/user/blogmanage/unPublishEntries",e.next=5,fetch(r,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify(t)});case 5:return c=e.sent,e.abrupt("return",S(c));case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(s.b)(),n=t+"/user/blogmanage/getAllTags",e.next=5,fetch(n,{method:"get",headers:{"Content-Type":"application/json"}});case 5:if(r=e.sent,!S(r)){e.next=13;break}return e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.abrupt("return",!1);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,r=Object(s.b)(),c=r+"/user/blogmanage/saveNewTag",e.next=6,fetch(c,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify([t])});case 6:return o=e.sent,console.log(o),e.abrupt("return",S(o));case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),n=Object(s.b)(),r=n+"/user/blogmanage/deleteTag",c=localStorage.getItem("token"),e.next=7,fetch(r,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":c},body:JSON.stringify(t)});case 7:return o=e.sent,e.abrupt("return",S(o));case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return 200===e.status}}}]);
//# sourceMappingURL=13.0f442b85.chunk.js.map